---
import { HEADER } from "@/const/header"
import ArrowDown from "@/icons/arrow-down.astro"
import Sun from "@/icons/sun.astro"
import Moon from "@/icons/moon.astro"
import LogoTienda from "@/icons/logo-tienda.astro"
import ThemeToggle from "@/components/ThemeToggle.astro"
---
<header id="landing-header" class="z-20 flex items-center justify-between w-full mx-auto px-20 bg-secondary">
    <div class="flex flex-row items-center">
        <a href="/#news">
            <img class="h-14 w-auto" src="/src/icons/huracan.svg" alt="">
        </a>
        <!--<h2 class="mx-3 font-dosis font-extrabold text-xl text-primary uppercase">HURACÁN</h2> -->
        <nav class="top-0 px-2 text-sm font-medium rounded-full text-blue-950 dark:text-gray-200 justify-start items-center">
            <ul id="header-menu" class="flex items-center">
                <!--
                {
                    HEADER.map((link) => (
                        <li class="px-8 py-2">
                            <a
                                class="px-2 pb-2 text-xl font-dosis uppercase transition hover:border-b-2 hover:text-black dark:hover:text-black"
                                aria-label={link.label}
                                href={link.url}
                            >
                                {link.title}
                            </a>
                        </li>
                    ))
                }  
                -->
                <li class="px-3 h-full hover:text-black dark:hover:text-black">
                    <a
                        class="flex flex-row items-center px-2 py-6 h-full text-xl font-dosis uppercase overflow-hidden"
                        aria-label=""
                        href=""
                    >
                        el club <span> <ArrowDown class="h-6 w-auto ms-2" /> </span>
                    </a>
                    <ul class="flex flex-row gap-10">
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/info">Datos</a></li>
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/history">Historia</a></li>
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/authorities">Autoridades</a></li>
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/stadium">Estadio</a></li>
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/properties">Sedes y predios</a></li>
                        <li><span class="font-extrabold text-secondary">/ </span><a class="hover:text-secondary" href="/titles">Títulos</a></li>
                    </ul>
                </li>
                <li class="px-3 flex flex-row">
                    <a
                        class="flex flex-row items-center px-2 py-6 text-xl font-dosis uppercase transition overflow-hidden hover:text-black dark:hover:text-black"
                        aria-label=""
                        href=""
                    >
                        fútbol <span> <ArrowDown class="h-6 w-auto ms-2" /> </span>
                    </a>
                    <ul class="gap-10">
                        <div class="flex flex-row gap-32">
                            <div>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/team">Plantel profesional</a></li>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/fixture">Fixture</a></li>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/positions">Posiciones</a></li>
                            </div>
                            <div>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/team">Reserva</a></li>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/fixture">Senior</a></li>
                                <li><span class="font-extrabold text-secondary">/ </span><a href="/positions">Infantiles</a></li>
                            </div>
                        </div>
                    </ul>

                </li>
                <li class="px-8 py-2">
                    <a
                        class="px-2 pb-2 text-xl font-dosis uppercase transition hover:text-black dark:hover:text-black"
                        aria-label=""
                        href="/news"
                    >
                        noticias
                    </a>
                </li>
                <li class="px-3 py-2">
                    <a
                        class="px-2 pb-2 text-xl font-dosis uppercase transition hover:text-black dark:hover:text-black"
                        aria-label=""
                        href=""
                    >
                        social
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    
    <div class="flex items-center gap-5">
        <nav class="top-0 text-sm font-medium rounded-full dark:text-gray-200 justify-start items-center">
            <ul id="header-menu" class="flex items-center">
                <li class="px-6 py-2 me-4 bg-button text-primary rounded-lg hover:bg-white hover:text-secondary">
                    <a
                        class="w-full text-xl font-dosis uppercase transition  dark:hover:text-secondary"
                        aria-label=""
                        href="/store"
                    >
                        tienda
                        
                    </a>
                </li>
                <li class="overflow-visible group my-auto bg-button text-white rounded-lg hover:bg-white hover:text-secondary transition">
                    <a
                        class="overflow-visible px-6 py-2 text-xl font-dosis uppercase transition flex flex-row items-center justify-between gap-5"
                        aria-label=""
                        href="asociate"
                    >
                        <LogoTienda class="h-7 w-auto text-white transition duration-700 group-hover:scale-150 group-hover:text-secondary/80" />
                        
                        asociate
                    </a>
                </li>
                <li class="ps-6">
                    <ThemeToggle />
                </li>
            </ul>
        </nav>

            <!-- 
                <Moon class="dark-mode absolute text-white h-6 w-auto cursor-pointer" />
                <Sun class="light-mode absolute text-white h-6 w-auto cursor-pointer hidden" />
            -->

    </div>
</header>

<style>
    *{
        box-sizing: border-box;
    }

    header{
        position: sticky;
        top: 0px;
        animation: adjust-header linear both;
        animation-timeline: scroll();
        animation-range: 0 500px;
    }

    /* 
    @keyframes adjust-header {
        0% {
            @apply dark:bg-gray-800/0 bg-white/0;
        }
        to {
            @apply bg-secondary;
        }
    }
    */

    #header-menu li{
        display: block;
        overflow: hidden;
    }

    #header-menu ul{
        display: none;
        position: absolute; 
        width: 100%;
        left: 0;
        z-index: 10;
        overflow: hidden;
    }

    #header-menu li:hover ul {
        display: block;
        position: absolute;
        background-color: #181818;
        color: white;
        top: 100%;
        text-align: start;
        height: auto;
        padding: 30px 100px;
        text-transform: uppercase;
    }

    #header-menu li ul li{
        margin: 20px 0;
    }


</style>

<script type="module">
    const $ = selector => document.querySelector(selector);

    const $darkMode = $('.dark-mode');
    const $lightMode = $('.light-mode');

    $darkMode.addEventListener('click', darkMode);
    $lightMode.addEventListener('click', lightMode);

    function darkMode(){
        $darkMode.classList.add('hidden')
        $lightMode.classList.remove('hidden')
    }

    function lightMode(){
        $lightMode.classList.add('hidden')
        $darkMode.classList.remove('hidden')
    }

</script>